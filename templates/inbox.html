<!doctype html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Pesan Masuk</title>
    <style>
        body { background: #121212; color: #eee; font-family: Arial; padding: 40px; }
        .card { background: #1f1f1f; padding: 25px; border-radius: 10px; max-width: 700px; margin: auto; }
        .msg { padding: 10px 0; border-bottom: 1px solid #333; }
        a { color: #90caf9; text-decoration: none; }
        select, button {
            padding: 8px;
            border-radius: 6px;
            border: none;
            margin: 10px 0;
            width: 100%;
        }
        button {
            background: #2196f3;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background: #1976d2;
        }
    </style>
</head>
<body>
    <div class="card">
        <h2>Pesan Masuk</h2>

        <a href="{{ url_for('home') }}">Kembali</a>
        <hr>

        <form method="get" action="{{ url_for('inbox') }}">
            <label>Pilih Pengirim:</label>
            <select name="from">
                <option value="">Semua</option>
                {% for u in senders %}
                    <option value="{{ u }}" {% if request.args.get('from') == u %}selected{% endif %}>{{ u }}</option>
                {% endfor %}
            </select>
            <button type="submit">Tampilkan</button>
        </form>

        <hr>

        {% if messages %}
            {% for m in messages %}
            <div class="msg">
                <strong>{{ m.sender }}</strong><br>
                <small>{{ m.timestamp }}</small>
                <pre style="white-space: pre-wrap;">{{ m.content }}</pre>
            </div>
            {% endfor %}
        {% else %}
            <p>Tidak ada pesan.</p>
        {% endif %}
    </div>
</body>
</html>